sql性能问题分析，主要有以下八个方面：
一、统计信息不准确
1.应在搭建测试环境后部署统计信息收集工具，在测试前（压力测试、稳定性测试）与测试人员沟通，确定收集策略和时间。
2.对生产环境，可以通过OMS监控统计信息收集情况，收集如有问题，及时发出预警信息。
3.怎样判断统计信息收集不合理？对一个sql，如果逻辑读和执行计划里的cost值近似，说明表的统计信息比较合理，否则，则说明统计信息有问题或是优化器算法不合适。
4.应分析哪些sql? 测试阶段关注SQL Tuning Advisor的输出，并根据输出做进一步判断。
5.与应用管理员进行沟通，收集特殊表，如比较大的分区表、需要定期清空的表等。

二、数据量积累
对有时序性的表，使表的当前使用量保持在一定大小范围之内。

三、缺少索引
检查进行全表扫描的sql。

四、索引不合理
1.通过全索引扫描过滤一部分。
2.通过数据字典，查询分区字段建索引的表。
基本针对按日分区的，按日分区,分区键应该是日期.每个分区日期相同.查询的时候查这一天的数据,会包含所有分区数据，走索引没有意义。
有时候日期是char类型. 还可能因为统计信息不准,导致走了索引查全表.
按月的则不一定。

五、程序逻辑
制定开发设计规范，如改写某些exists的语句，对较大的sql进行拆分，将同步改成异步，前台操作转批量等。

六、表结构物理设计
分区，物化视图等。

七、优化器算法

八、数据库特性/bug
测试发现，oracle发布

